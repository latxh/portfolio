<!DOCTYPE html>
<html lang="en">

<head>
    <title>Brian Latchman</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=0" />
    <meta name="description" content="Creating experiences for people to use, enjoy and explore.">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-touch-fullscreen" content="yes" />

    <meta property='og:title' content="Brian Latchman" />
    <meta property='og:image' content='https://latchman.ca/assets/portrait.jpg' />
    <meta property='og:description' content="Creating experiences for people to use, enjoy and explore." />
    <meta property='og:url' content='https://latchman.ca/' />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r67/three.min.js"></script>

    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>

<body>
    <button onclick="topFunction()" id="top-btn" title="Go to top of page">
        <svg fill="var(--font-light)" width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.22 6.781a.75.75 0 0 1-.073-.976l.073-.085 2.367-2.37a.77.77 0 0 1 .664-.35c.252 0 .475.109.611.276l.053.075 2.367 2.37.073.084a.75.75 0 0 1 .007.882l-.08.094-.084.073a.75.75 0 0 1-.883.007l-.094-.08L17 5.56v14.784l-.007.089c-.05.32-.363.567-.743.567s-.694-.247-.743-.567l-.007-.09V5.56l-1.22 1.221-.084.073a.75.75 0 0 1-.976-.073ZM6.25 3.992A2.25 2.25 0 0 0 4 6.242v11.5a2.25 2.25 0 0 0 2.25 2.25h6a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 1-.75-.75v-11.5a.75.75 0 0 1 .75-.75h4a.75.75 0 0 0 0-1.5h-4Z"/></svg>
    </button>
    <div class="max-width">
        <div class="cs-top">
            <nav>
                <h3><a class="underline-animation" href="/">‚Üê Home</a></h3>
                <div class="spacer"></div>
                <h3><a class="underline-animation" href="/about">About me</a></h3>
                <h3><a class="underline-animation" href="/photos">Photos</a></h3>
                <div class="button-wrapper">
                    <button id="canvas-size" title="Toggle visual effects" onclick="toggleCanvas()">
                        <svg id="canvas-on" class="hide" fill="var(--font-light)" width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.909 5h1.34a.75.75 0 0 1 .102 1.493L9.25 6.5H7.91a.75.75 0 0 0-.477.17l-.075.073-2.074 2.256h3.466a2.25 2.25 0 0 1 2.237 2.005h2.027A2.25 2.25 0 0 1 15.25 9l3.477-.001-2.083-2.258a.75.75 0 0 0-.448-.234l-.104-.007h-1.345a.75.75 0 0 1-.102-1.493L14.747 5h1.346a2.25 2.25 0 0 1 1.52.592l.133.132 3.642 3.947c.05.055.091.115.122.178.306.384.489.871.489 1.4v3.497a3.25 3.25 0 0 1-3.25 3.25H16.25a3.25 3.25 0 0 1-3.25-3.25l-.001-2.242h-2.001v2.242a3.25 3.25 0 0 1-3.25 3.25H5.25A3.25 3.25 0 0 1 2 14.746V11.25c0-.562.206-1.076.546-1.47l.038-.055.044-.052 3.624-3.945a2.25 2.25 0 0 1 1.469-.72L7.909 5h1.34-1.34Zm.84 5.5H4.25a.75.75 0 0 0-.75.75v3.496c0 .967.784 1.75 1.75 1.75h2.499a1.75 1.75 0 0 0 1.75-1.75V11.25a.75.75 0 0 0-.75-.75Zm11 0H15.25a.75.75 0 0 0-.75.75v3.496c0 .967.784 1.75 1.75 1.75h2.499a1.75 1.75 0 0 0 1.75-1.75V11.25a.75.75 0 0 0-.75-.75Z"/></svg>
                        <svg id="canvas-off" fill="var(--font-light)" width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.28 2.22a.75.75 0 1 0-1.06 1.06l3.273 3.274-2.865 3.119-.044.052-.038.055c-.34.394-.546.908-.546 1.47v3.496a3.25 3.25 0 0 0 3.25 3.25h2.499a3.25 3.25 0 0 0 3.25-3.25l-.001-2.242h.445L13 14.061v.685a3.25 3.25 0 0 0 3.25 3.25h.685l3.784 3.785a.75.75 0 0 0 1.061-1.061L3.28 2.22ZM7.94 9l-2.656-.001 1.272-1.384L7.939 9ZM4.25 10.5h4.499a.75.75 0 0 1 .75.75v3.496a1.75 1.75 0 0 1-1.75 1.75H5.25a1.75 1.75 0 0 1-1.75-1.75V11.25a.75.75 0 0 1 .75-.75ZM13.303 10.121l1.197 1.197v-.068a.75.75 0 0 1 .75-.75h4.499a.75.75 0 0 1 .75.75v3.496a1.75 1.75 0 0 1-.993 1.578l1.094 1.094a3.246 3.246 0 0 0 1.399-2.672V11.25c0-.53-.183-1.017-.489-1.4a.748.748 0 0 0-.122-.179l-3.642-3.947-.133-.132A2.25 2.25 0 0 0 16.093 5h-1.346l-.102.007a.75.75 0 0 0 .102 1.493h1.346l.103.007a.75.75 0 0 1 .448.234L18.727 9H15.25c-.831 0-1.557.452-1.947 1.122Z"/></svg>
                    </button>
                    <button id="dark-mode" title="Toggle dark mode" onclick="toggleDarkMode()">
                        <svg id="light" class="hide" fill="var(--font-light)" width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.996 19.01a.75.75 0 0 1 .743.649l.007.102v1.5a.75.75 0 0 1-1.493.101l-.007-.101v-1.5a.75.75 0 0 1 .75-.75Zm6.022-2.072 1.06 1.06a.75.75 0 1 1-1.06 1.061l-1.06-1.06a.75.75 0 0 1 1.06-1.061Zm-10.983 0a.75.75 0 0 1 0 1.06L5.974 19.06a.75.75 0 0 1-1.06-1.06l1.06-1.061a.75.75 0 0 1 1.06 0ZM12 6.475a5.525 5.525 0 1 1 0 11.05 5.525 5.525 0 0 1 0-11.05Zm0 1.5a4.025 4.025 0 1 0 0 8.05 4.025 4.025 0 0 0 0-8.05Zm9.25 3.293a.75.75 0 0 1 .102 1.493l-.102.007h-1.5a.75.75 0 0 1-.102-1.493l.102-.007h1.5Zm-17-.029a.75.75 0 0 1 .102 1.494l-.102.006h-1.5a.75.75 0 0 1-.102-1.493l.102-.007h1.5Zm1.64-6.37.084.072 1.06 1.06a.75.75 0 0 1-.976 1.134l-.084-.073-1.06-1.06a.75.75 0 0 1 .976-1.134Zm13.188.072a.75.75 0 0 1 .073.977l-.073.084-1.06 1.06a.75.75 0 0 1-1.133-.976l.072-.084 1.06-1.061a.75.75 0 0 1 1.061 0ZM12 1.99a.75.75 0 0 1 .743.648l.007.102v1.5a.75.75 0 0 1-1.493.101l-.007-.102v-1.5a.75.75 0 0 1 .75-.75Z"/></svg>
                        <svg id="dark" fill="var(--font-light)" width="24" height="24" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.026 17.001c-2.762 4.784-8.879 6.423-13.663 3.661a9.964 9.964 0 0 1-3.234-2.983.75.75 0 0 1 .365-1.131c3.767-1.348 5.785-2.911 6.956-5.146 1.232-2.353 1.551-4.93.689-8.464a.75.75 0 0 1 .769-.926 9.961 9.961 0 0 1 4.457 1.327C21.149 6.1 22.788 12.217 20.025 17Zm-8.248-4.903c-1.25 2.388-3.31 4.099-6.817 5.499a8.492 8.492 0 0 0 2.152 1.766 8.501 8.501 0 1 0 8.502-14.725 8.485 8.485 0 0 0-2.792-1.016c.647 3.384.23 6.044-1.045 8.476Z"/></svg>
                    </button>
                </div>
            </nav>

            <div class="cs-intro">
                <img class="cs-img bing" src="/assets/cs-timeline/header.png" alt="Timeline case study header image">
            </div>
        </div>

        <main class="about center">
            <h1 class="bot-space">Overview</h1>
            <div class="text row">
                <div>
                    <h2 class="top-space">Problem</h2>
                    <p class="grey about bot-space">This was a recurring thought of mine ever since I saw Family YouTube channels. They document their child's growth and are able to share the memories with the world. While I didn't want to reach that extent - I wanted to always look back on my childhood and I often find myself asking my parents, "When was my first step?" or "When did I start talking" and they tell me but it's not captured in photos or videos explicitly.</p>
                    <h2 class="top-space">Solution</h2>
                    <p class="grey about bot-space">I created an application that parents can use to add, store and share memories of their child easily. They can build their child's story as they will be adding milestones throughout to cherish and evenutally share with their child when they get older!</p>
                </div>
                
                <div>
                    <h2 class="top-space">Timeline</h2>
                    <p class="grey about bot-space">4 weeks, September 2020</p>
                    <h2 class="top-space">Team</h2>
                    <p class="grey about bot-space">Solo project</p>
                    <h2 class="top-space">Roles and responsibilities</h2>
                    <p class="grey about bot-space">I worked through the design process as a sole designer.</p>
                </div>
            </div>

            <h1 class="bot-space head-space">Discover</h1>
            <h2 class="top-space">The process</h2>
            <img class="trans white bot-space" src="/assets/cs-timeline/process.png" alt="Timeline app process">
            <h2 class="top-space">Initial interviews</h2>
            <p class="grey about bot-space">How many couples would want to document their child's early years and growth? These interviews allowed me to guage the parents this really could be for, and if I should really be solving this exact problem.</p>

            <h2 class="head-space">Here are the main questions I asked</h2>
            <p class="grey about top-space">1.) How old are you?</p>
            <p class="grey about top-space">2.) Are you married?</p>
            <p class="grey about top-space">3.) Do you have kids? And if not, do you plan on having them in the future?</p>
            <p class="grey about top-space">4.) Would you want to document milestones of your child's early years of growth?</p>
            <p class="grey about top-space">5.) What functions of the application would you expect?</p>           
            <img class="trans white bot-space" src="/assets/cs-timeline/quotes.png" alt="Interview responses">
            <h2 class="head-space">Here's what I discovered</h2>
            <p class="grey about top-space">1.) Parents would find value in having a single go-to place to easily store their memories over other social media applications</p>
            <p class="grey about top-space">2.) Most would trust the application to keep their data private</p>
            <p class="grey about top-space">3.) All would like the option to have a private network feature to share specific memories with their families</p>
            <p class="grey about top-space">4.) Most would welcome a feature to celebrate milestones and also have timely parenting tips along the journey</p>
            <p class="grey about top-space">5.) Most of the answers fell into my assumptions while some were out of my expectations. I was really happy about how intuitive and genuine the answers were</p>    

            <h2 class="head-space">"How do we create an experience that empowers parents with the functionality to create memories of their children in one application?"</h2>
            
            <h2 class="head-space">User personas</h2>
            <p class="grey about top-space">Based on my interviews, 67% did not have kids and 33% already had kids. The time allocation to kids were obviously vastly different but I wanted to empathize with the two main groups I was going to focus on - couples who are planning to have kids in the future and parents who already have kids. Using these personas, I was able to understand how busy life can be sometimes and it's important to capture the moments for the ones that are not able to experience it live. These two groups were in completely different stages of their life, but I knew that marketing to them with the right message was the key.</p>
            <img class="cs-img trans white head-space" src="/assets/cs-timeline/personas.png" alt="User personas">

            <h2 class="head-space">Competitive analysis</h2>
            <p class="grey about top-space">I studied dozens of applications that revolved around capturing a baby's growing moments. Many provided the same basic features but none provided a seamless experience to store and capture moments. In addition, none provided on-demand tips and information on parenting. In general, applications like these can play a big part in parenting so I thought about positives and things to look out for after researching competitors.</p>
            <img class="cs-img trans white head-space" src="/assets/cs-timeline/list.png" alt="Timeline list">

            <h2 class="head-space">Content research</h2>
            <p class="grey about top-space">Which stage of a baby accounts for the most growth? To understand how feasible including parenting tips was and help cater my goals for the app, I needed to learn accurate information about the growth of a baby to make the experience complete.</p>
            <img class="cs-img trans white head-space" src="/assets/cs-timeline/time.png" alt="Timeline time breakdown">

            <h1 class="bot-space head-space">Define</h1>
            <h2 class="head-space">A newborn confidence</h2>
            <p class="grey about top-space">After gathering all of my research and collecting my thoughts, I took some to to organize my insights for problem diagnosis. After synthesizing my research, I redefined the problem space. Photo storing applications are great tools to document your child's journey, but the majority lack the structure and support to create lasting memories and celebrate milestones - as well as providing useful tips that can help parents and help with the stress.</p>
            
            <h2 class="head-space">Synthesizing the problem spaces</h2>
            <p class="grey about top-space">To explore potential solutions, I mapped out the information architecture to highlight the key problems that were communicated by the couples and that I was going to tackle. Through this exercise, I was able to solidify the structural principles that would satisfy the needs of all stakeholder groups.</p>
            <img class="cs-img trans white head-space" src="/assets/cs-timeline/ia.png" alt="Timeline information architecture">

            <h2 class="head-space">The solution</h2>
            <img class="cs-img trans white head-space" src="/assets/cs-timeline/pillars.png" alt="Timeline solution">

            <h1 class="bot-space head-space">Develop</h1>
            <h2 class="head-space">Prototyping and testing</h2>
            <img class="cs-img trans white head-space" src="/assets/cs-timeline/lo-fi.png" alt="Timeline low-fidelity design">

            <h2 class="head-space">Concept testing</h2>
            <p class="grey about top-space">After going through creating the mid-fidelity prototypes, I wanted to test it with users so I can receive feedback, understand better how they interact with the UX and test out the app's features. Based on the testing and feedback, I defined problem areas and action items for improvement.</p>
            <img class="cs-img trans white head-space" src="/assets/cs-timeline/ia.png" alt="Timeline information architecture">
            <div class="row bot-space">
                <div>
                    <h2 class="head-space">Problem space 1</h2>
                    <p class="grey about top-space">Make the calendar navigation easier.</p>
                    <h2 class="head-space">Action</h2>
                    <p class="grey about top-space">Made year and month two separate boxes so users can navigate between different years easier. Also added a weekly timeline interface to make navigation even simpler to the day.</p>
                </div>
                <div>
                    <h2 class="head-space">Problem space 2</h2>
                    <p class="grey about top-space">Need more information for memory tiles.</p>
                    <h2 class="head-space">Action</h2>
                    <p class="grey about top-space">Added date and number of pictures to tile. In addition, added how many people the memory is exactly shared with.</p>
                </div>
                <div>
                    <h2 class="head-space">Problem space 3</h2>
                    <p class="grey about top-space">The nav seemed a little cluttered.</p>
                    <h2 class="head-space">Action</h2>
                    <p class="grey about top-space">Although many apps have 5 elements at the bottom, this was a recurring thought. As a result, I decided to move the tips and profile to the top as they were used less in comparison to the other 3 elements, which I chose to leave at the bottom to emphasize them.</p>
                </div>
            </div>

            <h2 class="head-space">Design system</h2>
            <img class="cs-img white head-space" src="/assets/cs-timeline/system.png" alt="Timeline design system overview">
            
            <h2 class="head-space">Events added by you are organized chronologically</h2>
            <p class="grey about top-space">Whether you decide to view a year's or week's worth of events, you'll always have your memories right at your fingertips. The complete details such as the dates and locations will always be there so you don't have to argue over dates and locations.</p>
            <h2 class="head-space">Share your favorite moments with your family and friends</h2>
            <p class="grey about top-space">Your family and friends can leave comments and view what you choose - establishing a seamless path between the ones you care about the most.</p>        
            <h2 class="head-space">The Explore page provides an overview and suggestions of events to view</h2>
            <p class="grey about top-space">Tagging your events with collections allows you to view events that are within the same genre.</p>
            <h2 class="head-space">The easiest way to add your favorite moments</h2>
            <p class="grey about top-space">It's really simple. Just select the photos to add - then click and edit each field with whatever information your heart desires.</p>
            <h2 class="head-space">Your child's profile page has everything you need</h2>
            <p class="grey about top-space">From their age, height, milestones achieved, favorite events and much more - you can track your child's growth completely.</p>
            <h2 class="head-space">Tips to help parents</h2>
            <p class="grey about top-space">They update in accordance with your child's age so it's everlasting guidance to help reduce stress and know what to expect.</p>
            <div class="row top-space">
                <video class="video bot-space" controls autoplay muted>
                    <source src="/assets/cs-timeline/vid1.mp4" type="video/mp4">
                    Your browser does not support HTML video.
                </video>
                <video class="video bot-space" controls autoplay muted>
                    <source src="/assets/cs-timeline/vid2.mp4" type="video/mp4">
                    Your browser does not support HTML video.
                </video>
                <video class="video bot-space" controls autoplay muted>
                    <source src="/assets/cs-timeline/vid3.mp4" type="video/mp4">
                    Your browser does not support HTML video.
                </video>
            </div>

            <h1 class="bot-space head-space">Learnings, reflections and outcome</h1>
            <p class="grey about top-space">When you're building a product that can potentially be used by 36 million people, the way your mind thinks changes a little. You get that extra motivation to complete the product with pristine perfection and work with your colleagues in going through the entire design process thoroughly and effectively. The most challenging aspect of the whole experience was to earn the trust of the user. Privacy and security were the biggest reasons people had against using such an app. So as a product designer, it was key to empathize with the user and understand that you need to design an experience that is simple to use and earns the trust of the users directly. All while keeping in mind that this app would be used by people of all ages. The way I solved this was looking at other apps that have a large age demographic and have a privacy aspect to it. In addition, I frequently communicated with our lawyer and privacy experts about the design and content to perfect the design.</p>
            <p class="grey about top-space">This project was a perfect example of how UI/UX can truly help parents cherish the moments that matter the most. The goal of creating an application that stores memories, and making that experience as simple and intuitive as possible for parents is what really mattered to me. There are still many features that could be implemented as parenting is an everlasting joy of discovering new things. The biggest learning I took from this project was the importance of conducting thorough and engaging user interviews to get the most out of the interviewee. The way to do that is to be completely genuine with your intentions and project so they feel comfortable and provide you with the most accurate information. As this was a passion project, I hope it ignites ideas and encourages app creators to implement features that are sought out by many parents.</p>
        </main>

        <footer>
            <div class="group">
                <h1>Hello from Toronto,</h1>
                <h1 class="bot-space">Canada</h1>
            </div>
            <div class="group">
                <p>Status</p>
                <br>
                <p>Going with the flow.</p>
            </div>
            <div class="group">
                <p>Contact</p>
                <br>
                <p><a class="underline-animation" href="mailto:latxhman@gmail.com"
                        target="_blank">latxhman@gmail.com</a></p>
                <p><a class="underline-animation" href="https://www.linkedin.com/in/brian-latchman/"
                        target="_blank">Linkedin</a>
                </p>
                <p><a class="underline-animation" href="https://www.instagram.com/latxhman/"
                        target="_blank">Instagram</a></p>
                <p><a class="underline-animation" href="https://github.com/latxh/" target="_blank">Github</a></p>
            </div>
            <div class="group">
                <p>Credits</p>
                <br>
                <p>Coded by yours truly.</p>
                <p>All rights reserved.</p>
            </div>
            <div class="spacer"></div>
        </footer>
    </div>

    <script id="jsbin-javascript">
        (function () {
            let Mouse, PI, abs, animloop, camera, canvas, cos, ctx, cubes, distance, frame, geometry, hypotenuse, material, offset, renderer, resizeHandler, scene, seed, side, sidehypotenuse, sin, sqrt, start, t, x, xside, y, yside, _i, _j, _ref, _ref1, _ref2, _ref3;
            t = 0;
            start = Date.now();
            seed = -40;
            frame = 0;
            PI = Math.PI;

            sin = function (a) {
                return Math.sin(a);
            };

            cos = function (a) {
                return Math.cos(a);
            };

            abs = function (a) {
                return Math.abs(a);
            };

            sqrt = function (a) {
                return Math.sqrt(a);
            };

            hypotenuse = function (a, b) {
                return Math.sqrt(a * a + b * b);
            };

            distance = function (x1, y1, x2, y2) {
                return hypotenuse(x2 - x1, y2 - y1);
            };

            scene = new THREE.Scene();
            camera = new THREE.OrthographicCamera(window.innerWidth / -2, window.innerWidth / 2, window.innerHeight / 2, window.innerHeight / -2, -50 * 100, 30 * 1000);
            renderer = new THREE.WebGLRenderer();
            canvas = document.createElement('canvas');
            ctx = canvas.getContext('2d');

            (resizeHandler = function () {
                camera.left = canvas.left = window.innerWidth / -2;
                camera.right = canvas.right = window.innerWidth / 2;
                camera.bottom = canvas.bottom = window.innerHeight / -2;
                camera.top = canvas.top = window.innerHeight / 2;
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                return canvas.hyp = hypotenuse(canvas.width, canvas.height);
            })();

            window.addEventListener('resize', resizeHandler, false);
            document.body.appendChild(renderer.domElement);
            side = hypotenuse(canvas.width, canvas.height) / 40;
            geometry = new THREE.BoxGeometry(side + 1, side + 1, side + 5);
            material = new THREE.MeshBasicMaterial({});
            cubes = [];
            xside = side;
            yside = side;
            sidehypotenuse = hypotenuse(side, side);
            offset = 75;

            for (x = _i = _ref = camera.left * 1.3, _ref1 = camera.right * 1.3; xside > 0 ? _i <= _ref1 : _i >= _ref1; x = _i += xside) {
                for (y = _j = _ref2 = camera.bottom * 1.3, _ref3 = camera.top * 1.3; yside > 0 ? _j <= _ref3 : _j >= _ref3; y = _j += yside) {
                    cubes.push(new THREE.Mesh(geometry, new THREE.MeshBasicMaterial({
                        color: 0x00ffff,
                        transparent: true,
                        wireframe: false,
                        opacity: 1
                    })));
                    cubes[cubes.length - 1].position.x = x;
                    cubes[cubes.length - 1].position.y = y;
                    cubes[cubes.length - 1].position.z = x + y;
                    scene.add(cubes[cubes.length - 1]);
                }
            }

            camera.position.set(0, 0, side * 10);
            Mouse = {
                down: false,
                held: 0,
                x: canvas.width / 2,
                y: canvas.height / 2,
                x0: 0,
                y0: 0,
                events: {
                    move: function (e) {
                        if ("touches" in e) {
                            e.preventDefault();
                            e = e.touches[0];
                        }
                        Mouse.x = (Mouse.x + e.pageX) * 0.5;
                        Mouse.y = (Mouse.y + e.pageY) * 0.5;
                        Mouse.x0 = Mouse.x - canvas.width / 2;
                        return Mouse.y0 = Mouse.y - canvas.height / 2;
                    },
                    down: function (e) {
                        return Mouse.down = !Mouse.down;
                    },
                    up: function (e) {
                        return Mouse.down = !Mouse.down;
                    }
                }
            };

            window.addEventListener('mousemove', Mouse.events.move, false);
            window.addEventListener('mousedown', Mouse.events.down, false);
            window.addEventListener('mouseup', Mouse.events.up, false);
            window.addEventListener('touchmove', Mouse.events.move, false);
            window.addEventListener('touchstart', Mouse.events.down, false);
            window.addEventListener('touchstop', Mouse.events.up, false);
            camera.up = new THREE.Vector3(0, 1, 0);

            animloop = function () {
                var a, b, c, dist, dist0, distneg, g, i, r, _k, _ref4;
                animloop.id = requestAnimationFrame(animloop);
                t = (Date.now() - start) / 1000 + seed;
                frame++;
                camera.position.set(side * 10, side * 10, -side * 10);
                camera.lookAt(new THREE.Vector3(0, 0, 0));
                if (Mouse.down) {
                    Mouse.held++;
                }
                for (i = _k = 0, _ref4 = cubes.length; 0 <= _ref4 ? _k < _ref4 : _k > _ref4; i = 0 <= _ref4 ? ++_k : --_k) {
                    c = cubes[i];
                    dist = distance(-Mouse.x0, -Mouse.y0, c.position.x, c.position.y);
                    dist0 = distance(0, 0, c.position.x, c.position.y);
                    distneg = distance(Mouse.x0, Mouse.y0, c.position.x, c.position.y);
                    c.scale.y = 2.25 + 1.25 * sin(dist / canvas.hyp * PI * 7 - t * 0.8 - Mouse.held / 50) * cos(dist / canvas.hyp * PI * 4 - t * 1.5 - Mouse.held / 50) + (1 + sin((distneg - dist) / canvas.hyp * PI * 1));
                    a = c.position.z;
                    r = 0.4 + 0.40 * sin(distneg / canvas.hyp * PI * 2 * 0.75 - t / 3.0 + 3 + Mouse.held / 80 + c.scale.y / 3.5);
                    g = 0.4 + 0.40 * sin(distneg / canvas.hyp * PI * 2 * 0.75 - t / 3.1 + 2 + Mouse.held / 81 + c.scale.y / 3.5);
                    b = 0.4 + 0.40 * sin(distneg / canvas.hyp * PI * 2 * 0.75 - t / 3.2 + 1 + Mouse.held / 82 + c.scale.y / 3.5);
                    cubes[i].material.color = new THREE.Color(r, g, b);
                }
                return renderer.render(scene, camera);
            };

            animloop();

        }).call(this);
    </script>

    <script>
        let style = document.createElement('style');
        let canvasRef = document.getElementsByTagName('canvas')[0]
        let sun = document.getElementById('light');
        let moon = document.getElementById('dark');
        let canvasOn = document.getElementById('canvas-on');
        let canvasOff = document.getElementById('canvas-off');

        let darkModeQuery = window.matchMedia("(prefers-color-scheme: dark)");
        let appearance = localStorage.getItem("appearance") ?? "system";
        let systemDarkMode = darkModeQuery.matches;
        let reducedMotionQuery = window.matchMedia("(prefers-reduced-motion: reduce)");
        let motion = localStorage.getItem("motion") ?? "system";
        let systemReducedMotion = reducedMotionQuery.matches;

        const updateAppearance = () => {
            localStorage.setItem("appearance", appearance);
            if (appearance === "system" ? systemDarkMode : appearance === "dark") {
                sun.classList.remove("hide")
                moon.classList.add("hide")

                document.body.classList.add("dark");
                style.innerHTML = ':root {color-scheme: dark;}';
                document.head.appendChild(style);
            } else {
                sun.classList.add("hide")
                moon.classList.remove("hide")

                document.body.classList.remove("dark");
                style.innerHTML = ':root {color-scheme: light;}';
                document.head.appendChild(style);
            }
        };

        const updateCanvas = () => {
            localStorage.setItem("motion", motion);
            if (motion === "system" ? systemReducedMotion : motion === "reduce") {
                canvasOn.classList.remove("hide")
                canvasOff.classList.add("hide")
                canvasRef.classList.add("hide");
            } else {
                canvasOn.classList.add("hide")
                canvasOff.classList.remove("hide")
                canvasRef.classList.remove("hide");
            }
        };

        darkModeQuery.addEventListener("change", (m) => { systemDarkMode = m.matches; updateAppearance(); });
        reducedMotionQuery.addEventListener("change", (m) => { systemReducedMotion = m.matches; updateCanvas(); });

        updateAppearance();
        updateCanvas();

        const toggleDarkMode = (e) => { appearance = appearance === "dark" ? "light" : "dark"; updateAppearance(); };
        const toggleCanvas = (e) => { motion = motion === "reduce" ? "no-preference" : "reduce"; updateCanvas(); };
    </script>

    <script>
        let topButton = document.getElementById("top-btn");
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
            if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                topButton.style.display = "flex";
            } else {
                topButton.style.display = "none";    
            }
        }

        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>
</body>

</html>
